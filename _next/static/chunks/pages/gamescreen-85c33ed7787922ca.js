(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{2341:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamescreen",function(){return n(1105)}])},1105:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),i=n(24),o=n(185),a=n.n(o),s=n(7294),d=n(2237),u=n(8239),h=n(1733),w=n(4420),l=n.n(w),c=n(5371);let f=()=>{let e=Math.floor(Math.random()*window.innerHeight),t=Math.floor(Math.random()*window.innerWidth);return{x:t,y:e,speedX:-120,status:0}},m=()=>{let e=Math.floor(Math.random()*window.innerHeight),t=Math.floor(Math.random()*window.innerWidth);return{x:t,y:e,speedX:-110,status:1}},y=()=>{let e=Math.floor(Math.random()*window.innerHeight),t=Math.floor(Math.random()*window.innerWidth);return{x:t,y:e,speedX:-150,status:2}},p=e=>{let t=[f,m,y],n=t[Math.floor(Math.random()*t.length)],r=n();return[...e,r]};function g(e,t){let n=e.x-t.x,r=e.y-t.y;return 37.5>=Math.sqrt(n*n+r*r)}let x=()=>{let[e]=l()(h.D.images.rensyu1_png),[t]=l()(h.D.images.rensyu2_png),[n]=l()(h.D.images.rensyu3_png),[o]=(0,i.KO)(c.L),[w,f]=(0,s.useState)([100,300]),[m,y]=(0,s.useState)([]),[x,k]=(0,s.useState)({up:!1,down:!1,left:!1,right:!1}),[M,v]=(0,s.useState)(!1),[E,_]=(0,s.useState)(0),b=(0,s.useRef)(null),[L,A]=(0,s.useState)([{x:1e3,y:300,speedX:-120,status:1}]),X=async e=>{let t=x;switch(e.code){case"ArrowUp":t.up=!0,k(t);break;case"ArrowDown":t.down=!0,k(t);break;case"ArrowLeft":t.left=!0,k(t);break;case"ArrowRight":t.right=!0,k(t)}},j=e=>{"KeyZ"===e.code&&v(!0)},H=e=>{let t=x;switch(e.code){case"ArrowUp":t.up=!1,k(t);break;case"ArrowDown":t.down=!1,k(t);break;case"ArrowLeft":t.left=!1,k(t);break;case"ArrowRight":t.right=!1,k(t)}},D=e=>{"KeyZ"===e.code&&v(!1)},S=e=>{y(t=>t.filter(t=>!g(t,e)))},W=()=>{A(e=>e.filter(e=>{let t=m.some(t=>g(t,e));return!t||(S(e),!1)}))};(0,s.useEffect)(()=>{let e=setInterval(()=>{A(()=>p(L)),console.table(L)},200);return()=>{clearInterval(e)}},[L]),(0,s.useEffect)(()=>{let e=new(a()).Animation(e=>{if(!e)return;let t=e.timeDiff/1e3;N(),C(t),W()});return e.start(),b.current=e,()=>{e.stop()}});let N=()=>{f(e=>{let t=[Math.min(Math.max(e[0]+(x.left?-5:0)+(x.right?5:0),20),window.innerWidth-50),Math.min(Math.max(e[1]+(x.up?-5:0)+(x.down?5:0),0),window.innerHeight-50)];return t})},C=e=>{_(E+e),M&&E>.3&&(y(e=>[...e,{x:w[0]+54,y:w[1],speedX:2e3}]),_(0)),y(t=>t.map(t=>({...t,x:t.x+t.speedX*e})).filter(e=>e.x<window.innerWidth&&e.y<window.innerHeight))};return((0,s.useEffect)(()=>(document.addEventListener("keydown",X),document.addEventListener("keyup",H),document.addEventListener("keydown",j),document.addEventListener("keyup",D),()=>{document.removeEventListener("keydown",X),document.removeEventListener("keyup",H),document.removeEventListener("keydown",j),document.removeEventListener("keyup",D)})),o)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Hf,{width:window.innerWidth,height:window.innerHeight,children:(0,r.jsxs)(d.mh,{children:[(0,r.jsx)(d.Cd,{fill:"black",x:w[0],y:w[1],radius:50}),L.map((i,o)=>{let a=[e,t,n][i.status];return(0,r.jsx)(d.Ee,{image:a,x:i.x,y:i.y,width:100,height:100},o)}),m.map((e,t)=>(0,r.jsx)(d.Cd,{x:e.x,y:e.y,radius:5,fill:"yellow"},t))]})})}):(0,r.jsx)(u.g,{visible:!0})};var k=x}},function(e){e.O(0,[289,774,888,179],function(){return e(e.s=2341)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{2341:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamescreen",function(){return n(8111)}])},8111:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(5893),i=n(24),d=n(185),s=n.n(d),o=n(7294),u=n(2237),a=n(8239),c=n(5371);function w(e,t){let n=e.x-t.x,r=e.y-t.y;return 37.5>=Math.sqrt(n*n+r*r)}let l=()=>{let[e]=(0,i.KO)(c.L),[t,n]=(0,o.useState)([100,300]),[d,l]=(0,o.useState)([]),[f,h]=(0,o.useState)({up:!1,down:!1,left:!1,right:!1}),[m,y]=(0,o.useState)(!1),[p,x]=(0,o.useState)(0),k=(0,o.useRef)(null),[v,E]=(0,o.useState)([{x:1e3,y:300,speedX:-120}]),g=async e=>{let t=f;switch(e.code){case"ArrowUp":t.up=!0,h(t);break;case"ArrowDown":t.down=!0,h(t);break;case"ArrowLeft":t.left=!0,h(t);break;case"ArrowRight":t.right=!0,h(t)}},_=e=>{"KeyZ"===e.code&&y(!0)},L=e=>{let t=f;switch(e.code){case"ArrowUp":t.up=!1,h(t);break;case"ArrowDown":t.down=!1,h(t);break;case"ArrowLeft":t.left=!1,h(t);break;case"ArrowRight":t.right=!1,h(t)}},b=e=>{"KeyZ"===e.code&&y(!1)},A=e=>{l(t=>t.filter(t=>!w(t,e)))},j=()=>{E(e=>e.filter(e=>{let t=d.some(t=>w(t,e));return!t||(A(e),!1)}))};(0,o.useEffect)(()=>{let e=new(s()).Animation(e=>{if(!e)return;let t=e.timeDiff/1e3;S(),C(t),j()});return e.start(),k.current=e,()=>{e.stop()}});let S=()=>{n(e=>{let t=[Math.min(Math.max(e[0]+(f.left?-5:0)+(f.right?5:0),20),window.innerWidth-50),Math.min(Math.max(e[1]+(f.up?-5:0)+(f.down?5:0),0),window.innerHeight-50)];return t})},C=e=>{x(p+e),m&&p>.3&&(l(e=>[...e,{x:t[0]+54,y:t[1],speedX:2e3}]),x(0)),l(t=>t.map(t=>({...t,x:t.x+t.speedX*e})).filter(e=>e.x<window.innerWidth&&e.y<window.innerHeight))};return((0,o.useEffect)(()=>(document.addEventListener("keydown",g),document.addEventListener("keyup",L),document.addEventListener("keydown",_),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",L),document.removeEventListener("keydown",_),document.removeEventListener("keyup",b)})),e)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.Hf,{width:window.innerWidth,height:window.innerHeight,children:(0,r.jsxs)(u.mh,{children:[(0,r.jsx)(u.Cd,{fill:"black",x:t[0],y:t[1],radius:50}),v.map((e,t)=>(0,r.jsx)(u.Cd,{x:e.x,y:e.y,radius:30,fill:"red"},t)),d.map((e,t)=>(0,r.jsx)(u.Cd,{x:e.x,y:e.y,radius:5,fill:"yellow"},t))]})})}):(0,r.jsx)(a.g,{visible:!0})};var f=l}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=2341)}),_N_E=e.O()}]);